# 왜 저장을 해야 하나요?

# 지금까지 우리가 만든 변수(점수, 레벨 등)는 컴퓨터의 RAM(램)이라는 곳에 저장됩니다.

# 이곳은 전기가 끊기면 싹 지워지는 '칠판' 같은 곳입니다. 그래서 프로그램을 끄면 데이터가 다 날아갑니다.

# 우리의 소중한 데이터를 영원히 간직하려면 HDD/SSD(하드디스크), 즉 '공책'에 옮겨 적어야 합니다. 이걸 파일(File)이라고 합니다.

# 파일 다루기의 3단계 법칙

# 파일을 다루는 건 우리가 책을 읽는 과정과 완벽하게 똑같습니다.

# Step 1. Open (열기): f = open("파일이름", "모드") - 책장에 있는 책을 꺼냅니다.

# Step 2. Action (읽기/쓰기): f.write() 혹은 f.read() - 내용을 적거나 읽습니다.

# Step 3. Close (닫기): f.close() - (매우 중요) 책을 덮어서 꽂아둡니다. 이걸 안 하면 저장이 안 되거나 파일이 깨집니다.

# 모드(Mode): 목적을 분명히 하라!

# "w" (Write, 쓰기): 새 공책을 꺼냅니다. 기존 내용이 있으면 싹 지워지고 새로 씁니다. (덮어쓰기 주의!)

# "a" (Append, 추가): 쓰던 공책을 꺼내서, 마지막 내용 뒤에 이어서 씁니다. (일기장, 로그)

# "r" (Read, 읽기): 이미 있는 책을 읽기만 합니다. (수정 불가)

# 한글이 깨져요! (encoding='utf-8')

# 파일에 한글을 저장할 때 파이썬에게 "이거 전 세계 표준 언어(유니코드)로 저장할 거야!" 라고 알려줘야 합니다. 안 그러면 외계어가 나옵니다.
# ==========================================
# 게임 최고 점수 저장하기 (Save & Load)
# ==========================================

# 1. 파일 쓰기 (Save) - "w" 모드
# "w"는 Write의 약자. 파일이 없으면 만들고, 있으면 내용을 싹 지우고 새로 씁니다.
print("--- [1] 게임 종료! 점수 저장 중... ---")
score = 5000
name = "Mr.Kim"

# 파일 열기 (이름: score.txt, 모드: 쓰기, 인코딩: 한글깨짐방지)
f = open("score.txt", "w", encoding="utf-8")

# 파일에 내용 쓰기 (문자열만 가능하므로 str로 변환하거나 f-string 사용)
f.write(f"플레이어: {name}\n") # \n은 줄바꿈
f.write(f"점수: {score}\n")

f.close() # 중요! 파일을 닫아야 저장이 완료됩니다.
print("저장 완료! (score.txt 파일을 확인해보세요)")


# 2. 파일 읽기 (Load) - "r" 모드
# "r"은 Read의 약자. 있는 파일을 읽어옵니다.
print("\n--- [2] 게임 재시작! 점수 불러오는 중... ---")

try:
    f = open("score.txt", "r", encoding="utf-8")
    
    # 파일의 모든 내용을 읽어서 변수에 담기
    saved_data = f.read()
    
    print("[불러온 데이터]")
    print(saved_data)
    
    f.close()
    
except FileNotFoundError:
    print("저장된 점수 파일이 없습니다.")
